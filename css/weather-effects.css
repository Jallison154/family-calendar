/* ============================================
   Weather Effects - Animated Backgrounds
   ============================================ */

.weather-effects {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  opacity: 0;
  transition: opacity 2s ease;
  z-index: -1; /* Ensure it stays behind all content */
}

.weather-effects.active {
  opacity: 1;
}

/* ============================================
   SNOW Effect
   ============================================ */

.weather-effects.snow .snowflake {
  position: absolute;
  top: -20px;
  color: #fff;
  font-size: 1rem;
  text-shadow: 0 0 5px rgba(255,255,255,0.5);
  animation: snowfall linear infinite;
  opacity: 0.8;
}

@keyframes snowfall {
  0% {
    transform: translateY(-20px) rotate(0deg);
  }
  100% {
    transform: translateY(100vh) rotate(360deg);
  }
}

/* Different snowflake sizes and speeds */
.weather-effects.snow .snowflake:nth-child(5n+1) { font-size: 0.6rem; animation-duration: 15s; opacity: 0.4; }
.weather-effects.snow .snowflake:nth-child(5n+2) { font-size: 0.8rem; animation-duration: 12s; opacity: 0.6; }
.weather-effects.snow .snowflake:nth-child(5n+3) { font-size: 1rem; animation-duration: 10s; opacity: 0.7; }
.weather-effects.snow .snowflake:nth-child(5n+4) { font-size: 1.2rem; animation-duration: 8s; opacity: 0.8; }
.weather-effects.snow .snowflake:nth-child(5n+5) { font-size: 1.4rem; animation-duration: 6s; opacity: 0.9; }

/* Horizontal drift */
.weather-effects.snow .snowflake:nth-child(3n) { animation-name: snowfall-drift-left; }
.weather-effects.snow .snowflake:nth-child(3n+1) { animation-name: snowfall-drift-right; }

@keyframes snowfall-drift-left {
  0% { transform: translateY(-20px) translateX(0) rotate(0deg); }
  100% { transform: translateY(100vh) translateX(-100px) rotate(360deg); }
}

@keyframes snowfall-drift-right {
  0% { transform: translateY(-20px) translateX(0) rotate(0deg); }
  100% { transform: translateY(100vh) translateX(100px) rotate(360deg); }
}

/* ============================================
   RAIN Effect
   ============================================ */

.weather-effects.rain .raindrop {
  position: absolute;
  top: -50px;
  width: 2px;
  height: 20px;
  background: linear-gradient(to bottom, transparent, rgba(174, 194, 224, 0.6));
  animation: rainfall linear infinite;
}

@keyframes rainfall {
  0% {
    transform: translateY(-50px);
  }
  100% {
    transform: translateY(100vh);
  }
}

/* Varying raindrop speeds and sizes */
.weather-effects.rain .raindrop:nth-child(5n+1) { height: 15px; animation-duration: 0.8s; opacity: 0.3; }
.weather-effects.rain .raindrop:nth-child(5n+2) { height: 20px; animation-duration: 0.7s; opacity: 0.4; }
.weather-effects.rain .raindrop:nth-child(5n+3) { height: 25px; animation-duration: 0.6s; opacity: 0.5; }
.weather-effects.rain .raindrop:nth-child(5n+4) { height: 18px; animation-duration: 0.75s; opacity: 0.35; }
.weather-effects.rain .raindrop:nth-child(5n+5) { height: 22px; animation-duration: 0.65s; opacity: 0.45; }

/* Slight angle for wind effect */
.weather-effects.rain .raindrop {
  transform-origin: top;
}

.weather-effects.rain.windy .raindrop {
  transform: rotate(15deg);
}

/* ============================================
   THUNDERSTORM Effect
   ============================================ */

.weather-effects.thunder {
  animation: lightning 4s ease-in-out infinite;
}

@keyframes lightning {
  0%, 89%, 91%, 93%, 95%, 100% {
    background: transparent;
  }
  90%, 92%, 94% {
    background: rgba(255, 255, 255, 0.1);
  }
}

/* ============================================
   CLOUDY Effect
   ============================================ */

.weather-effects.cloudy .cloud {
  position: absolute;
  background: radial-gradient(ellipse at center, rgba(255,255,255,0.15) 0%, transparent 70%);
  border-radius: 50%;
  animation: cloud-drift linear infinite;
}

@keyframes cloud-drift {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100vw); }
}

.weather-effects.cloudy .cloud:nth-child(1) { width: 400px; height: 150px; top: 5%; animation-duration: 60s; }
.weather-effects.cloudy .cloud:nth-child(2) { width: 300px; height: 120px; top: 15%; animation-duration: 45s; animation-delay: -20s; }
.weather-effects.cloudy .cloud:nth-child(3) { width: 350px; height: 130px; top: 25%; animation-duration: 55s; animation-delay: -10s; }
.weather-effects.cloudy .cloud:nth-child(4) { width: 280px; height: 100px; top: 10%; animation-duration: 50s; animation-delay: -30s; }

/* ============================================
   SUNNY Effect
   ============================================ */

.weather-effects.sunny::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -20%;
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, rgba(255, 200, 100, 0.15) 0%, transparent 60%);
  animation: sun-pulse 8s ease-in-out infinite;
}

@keyframes sun-pulse {
  0%, 100% { transform: scale(1); opacity: 0.8; }
  50% { transform: scale(1.2); opacity: 1; }
}

/* Sun rays */
.weather-effects.sunny .sunray {
  position: absolute;
  top: 0;
  right: 0;
  width: 3px;
  height: 100%;
  background: linear-gradient(to bottom, rgba(255, 220, 150, 0.1), transparent 50%);
  transform-origin: top right;
  animation: ray-shimmer 3s ease-in-out infinite;
}

@keyframes ray-shimmer {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.6; }
}

/* ============================================
   FOG/MIST Effect
   ============================================ */

.weather-effects.fog .fog-layer {
  position: absolute;
  width: 200%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(200, 200, 200, 0.1) 25%, 
    rgba(200, 200, 200, 0.15) 50%, 
    rgba(200, 200, 200, 0.1) 75%, 
    transparent 100%
  );
  animation: fog-drift linear infinite;
}

@keyframes fog-drift {
  0% { transform: translateX(-50%); }
  100% { transform: translateX(0%); }
}

.weather-effects.fog .fog-layer:nth-child(1) { top: 60%; animation-duration: 40s; opacity: 0.8; }
.weather-effects.fog .fog-layer:nth-child(2) { top: 70%; animation-duration: 35s; animation-delay: -15s; opacity: 0.6; }
.weather-effects.fog .fog-layer:nth-child(3) { top: 80%; animation-duration: 45s; animation-delay: -5s; opacity: 0.7; }

/* ============================================
   WIND Effect (can combine with others)
   ============================================ */

.weather-effects.windy .wind-line {
  position: absolute;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  animation: wind-blow linear infinite;
}

@keyframes wind-blow {
  0% { transform: translateX(-100%) scaleX(0.5); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateX(100vw) scaleX(1.5); opacity: 0; }
}

.weather-effects.windy .wind-line:nth-child(1) { top: 20%; width: 200px; animation-duration: 3s; }
.weather-effects.windy .wind-line:nth-child(2) { top: 35%; width: 150px; animation-duration: 2.5s; animation-delay: -1s; }
.weather-effects.windy .wind-line:nth-child(3) { top: 50%; width: 180px; animation-duration: 2.8s; animation-delay: -2s; }
.weather-effects.windy .wind-line:nth-child(4) { top: 65%; width: 160px; animation-duration: 2.2s; animation-delay: -0.5s; }
.weather-effects.windy .wind-line:nth-child(5) { top: 80%; width: 190px; animation-duration: 3.2s; animation-delay: -1.5s; }

/* ============================================
   CLEAR NIGHT Effect
   ============================================ */

.weather-effects.clear-night .star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: #fff;
  border-radius: 50%;
  animation: twinkle ease-in-out infinite;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}

.weather-effects.clear-night .star:nth-child(3n) { animation-duration: 2s; }
.weather-effects.clear-night .star:nth-child(3n+1) { animation-duration: 3s; }
.weather-effects.clear-night .star:nth-child(3n+2) { animation-duration: 2.5s; }

